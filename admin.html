<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Trang Qu·∫£n Tr·ªã Admin</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #1a1a1a;
      color: #eee;
      margin: 0;
      padding: 0;
    }
    h1, h2, h3 {
      text-align: center;
      color: #00ffcc;
      margin: 20px 0;
    }
    table {
      width: 90%;
      margin: auto;
      border-collapse: collapse;
      transition: all 0.3s ease;
    }
    th, td {
      border: 1px solid #444;
      padding: 12px;
      text-align: center;
    }
    tr:hover {
      background-color: #2a2a2a;
    }
    button {
      padding: 6px 12px;
      background-color: #00cc99;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    button:hover {
      background-color: #00b38f;
    }
    .form-section {
      margin: 30px auto;
      width: 80%;
      background: #2c2c2c;
      padding: 20px;
      border-radius: 10px;
    }
    .form-section input,
    .form-section select {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      border: none;
      border-radius: 5px;
      background: #1b1b1b;
      color: #fff;
    }
    .form-section button {
      width: 100%;
    }
    .back-home {
      text-align: center;
      margin: 30px 0;
    }
    .back-home button {
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <h1>üåü Trang qu·∫£n tr·ªã Admin</h1>

  <!-- Qu·∫£n l√Ω s·∫£n ph·∫©m -->
  <h2>üßë‚Äçüíº Qu·∫£n l√Ω s·∫£n ph·∫©m</h2>
  <table id="product-table">
    <thead>
      <tr>
        <th>S·∫£n ph·∫©m</th>
        <th>Gi√°</th>
        <th>Thao t√°c</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>PC Giga Student</td>
        <td>13.000.000ƒë</td>
        <td>
          <button onclick="editProduct(this)">S·ª≠a</button>
          <button onclick="deleteProduct(this)">X√≥a</button>
        </td>
      </tr>
      <tr>
        <td>PC Budget Hero</td>
        <td>7.800.000ƒë</td>
        <td>
          <button onclick="editProduct(this)">S·ª≠a</button>
          <button onclick="deleteProduct(this)">X√≥a</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="form-section">
    <h3>‚ûï Th√™m s·∫£n ph·∫©m m·ªõi</h3>
    <input type="text" id="new-name" placeholder="T√™n s·∫£n ph·∫©m" required>
    <input type="text" id="new-price" placeholder="Gi√° s·∫£n ph·∫©m (ƒë)" required>
    <button onclick="addProduct()">Th√™m v√†o b·∫£ng</button>
  </div>

  <!-- Qu·∫£n l√Ω h√≥a ƒë∆°n -->
  <h2>üßæ Qu·∫£n l√Ω h√≥a ƒë∆°n</h2>
  <table id="invoice-table">
    <thead>
      <tr>
        <th>M√£ h√≥a ƒë∆°n</th>
        <th>T√™n kh√°ch h√†ng</th>
        <th>S·∫£n ph·∫©m</th>
        <th>T·ªïng ti·ªÅn</th>
        <th>Ng√†y ƒë·∫∑t</th>
        <th>Tr·∫°ng th√°i</th>
        <th>Thao t√°c</th>
      </tr>
    </thead>
    <tbody>
      <!-- h√≥a ƒë∆°n ƒë∆∞·ª£c th√™m b·∫±ng JS -->
    </tbody>
  </table>

  <div class="form-section">
    <h3>üìù Th√™m h√≥a ƒë∆°n m·ªõi</h3>
    <input type="text" id="cus-name" placeholder="T√™n kh√°ch h√†ng" required>
    <input type="text" id="cus-items" placeholder="S·∫£n ph·∫©m v√† s·ªë l∆∞·ª£ng" required>
    <input type="number" id="cus-total" placeholder="T·ªïng ti·ªÅn (VNƒê)" required>
    <input type="date" id="cus-date" required>
    <select id="cus-status" required>
      <option value="">Ch·ªçn tr·∫°ng th√°i</option>
      <option>ƒê√£ thanh to√°n</option>
      <option>Ch·ªù x·ª≠ l√Ω</option>
      <option>ƒê√£ h·ªßy</option>
    </select>
    <button onclick="addInvoice()">Th√™m v√†o b·∫£ng h√≥a ƒë∆°n</button>
  </div>
  <!-- Qu·∫£n l√Ω doanh thu -->
<h2>üìà Qu·∫£n l√Ω doanh thu</h2>
<table id="revenue-table">
  <thead>
    <tr>
      <th>Th·ªùi gian</th>
      <th>S·ªë ƒë∆°n h√†ng</th>
      <th>T·ªïng doanh thu</th>
      <th>Thao t√°c</th>
    </tr>
  </thead>
  <tbody>
    <!-- D·ªØ li·ªáu th·ªëng k√™ s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
  </tbody>
</table>

<div class="form-section">
  <h3>üìÖ Th·ªëng k√™ doanh thu theo ng√†y</h3>
  <input type="date" id="revenue-date">
  <button onclick="calcRevenue()">Th·ªëng k√™ doanh thu</button>
</div>





  <div class="back-home">
    <button onclick="window.location.href='index.html'">üè† V·ªÅ trang ch·ªß</button>
  </div>

  <!-- JS chung -->
  <script>
    function deleteProduct(btn) {
      if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën xo√° s·∫£n ph·∫©m n√†y kh√¥ng?")) {
        btn.closest("tr").remove();
      }
    }

    function editProduct(btn) {
      let row = btn.closest("tr");
      let nameCell = row.cells[0];
      let priceCell = row.cells[1];

      let newName = prompt("T√™n m·ªõi c·ªßa s·∫£n ph·∫©m:", nameCell.textContent);
      let newPrice = prompt("Gi√° m·ªõi c·ªßa s·∫£n ph·∫©m:", priceCell.textContent.replace("ƒë", ""));

      if (newName) nameCell.textContent = newName;
      if (newPrice) priceCell.textContent = newPrice + "ƒë";
    }

    function addProduct() {
      let name = document.getElementById("new-name").value;
      let price = document.getElementById("new-price").value;

      if (!name || !price) {
        alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin.");
        return;
      }

      let table = document.getElementById("product-table").getElementsByTagName("tbody")[0];
      let newRow = table.insertRow();
      newRow.innerHTML = `
        <td>${name}</td>
        <td>${price}ƒë</td>
        <td>
          <button onclick="editProduct(this)">S·ª≠a</button>
          <button onclick="deleteProduct(this)">X√≥a</button>
        </td>
      `;
      document.getElementById("new-name").value = "";
      document.getElementById("new-price").value = "";
    }

    // H√≥a ƒë∆°n JS
    let invoiceCount = 1;

    function addInvoice() {
      const name = document.getElementById("cus-name").value;
      const items = document.getElementById("cus-items").value;
      const total = document.getElementById("cus-total").value;
      const date = document.getElementById("cus-date").value;
      const status = document.getElementById("cus-status").value;

      if (!name || !items || !total || !date || !status) {
        alert("Nh·∫≠p ƒë·∫ßy ƒë·ªß c√°c tr∆∞·ªùng h√≥a ƒë∆°n.");
        return;
      }

      const table = document.getElementById("invoice-table").getElementsByTagName("tbody")[0];
      const row = table.insertRow();
      row.innerHTML = `
        <td>HD${invoiceCount.toString().padStart(3, '0')}</td>
        <td>${name}</td>
        <td>${items}</td>
        <td>${total} VNƒê</td>
        <td>${date}</td>
        <td>${status}</td>
        <td>
          <button onclick="alert('Chi ti·∫øt h√≥a ƒë∆°n HD${invoiceCount}')">Xem</button>
          <button onclick="this.parentElement.parentElement.remove()">X√≥a</button>
        </td>
      `;
      invoiceCount++;

      // Reset form
      document.getElementById("cus-name").value = "";
      document.getElementById("cus-items").value = "";
      document.getElementById("cus-total").value = "";
      document.getElementById("cus-date").value = "";
      document.getElementById("cus-status").value = "";
    }
    function calcRevenue() {
  const targetDate = document.getElementById("revenue-date").value;
  if (!targetDate) {
    alert("Vui l√≤ng ch·ªçn ng√†y ƒë·ªÉ th·ªëng k√™!");
    return;
  }

  let totalRevenue = 0;
  let invoiceCount = 0;

  const rows = document.getElementById("invoice-table").getElementsByTagName("tbody")[0].rows;

  for (let row of rows) {
    const date = row.cells[4].textContent;
    let amountText = row.cells[3].textContent;

    amountText = amountText.replace(" VNƒê", "").replace(/\./g, "").replace(/,/g, "");
    const amount = parseInt(amountText);

    if (date === targetDate) {
      totalRevenue += amount;
      invoiceCount++;
    }
  }

  const table = document.getElementById("revenue-table").getElementsByTagName("tbody")[0];
  const newRow = table.insertRow();
  newRow.innerHTML = `
    <td>${targetDate}</td>
    <td>${invoiceCount}</td>
    <td>${totalRevenue.toLocaleString()} VNƒê</td>
    <td><button onclick="this.parentElement.parentElement.remove()">X√≥a</button></td>
  `;
}



    
  </script>

</body>
</html>
